<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/styles/variables.css">
    <link rel="stylesheet" href="./assets/styles/main.css">
    <link rel="stylesheet" href="./assets/styles/desktop.css">
    <link rel="stylesheet" href="./assets/styles/taskbar.css">
    <link rel="stylesheet" href="./assets/styles/menu.css">
    <link rel="stylesheet" href="./assets/styles/window.css">
    <link rel="stylesheet" href="./assets/styles/icon.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <script src="./scripts/Taskbar.js"></script>
    <script src="./scripts/Window.js"></script>
    <title>jt-owo</title>
</head>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        const desktop = document.getElementById("desktop");

        desktop.addEventListener('click', () => {
            closeStartMenu();
            removeCurrentFocus();
        });

        initTaskbar();
    });

    function openProjects() {
        const projects = document.getElementById("projects");
        DragWindow.show("My Projects", projects);
    }
</script>

<body>
    <div id="desktop">
        <div class="desktop-item">
            <div class="icon-container">
                <i class="icon recycleBin"></i>
                <span>Recycle Bin</span>
            </div>
        </div>
        <div class="desktop-item">
            <div class="icon-container">
                <i class="icon computer"></i>
                <span>Computer</span>
            </div>
        </div>
        <div class="desktop-item" onclick="openProjects();">
            <div class="icon-container">
                <i class="icon dir-closed"></i>
                <span>My Projects</span>
            </div>
        </div>
        <div class="desktop-item" onclick="window.open('https://github.com/jt-owo', '_blank').focus();">
            <div class="icon-container">
                <i class="icon github"></i>
                <span>My Github</span>
            </div>
        </div>
        <div id="task-manager" class="win" style="display: none;">
            <div class="win-title">
                <div class="win-title-text">Task Manager</div>
                <div class="win-title-controls">
                    <div class="button minimize"></div>
                    <div class="button maximize"></div>
                    <div class="button close"></div>
                </div>
            </div>
            <div class="win-content">
                <div class="container">
                    <div id="projects" style="width: 400px;">
                        <table class="task-list-header">
                            <colgroup>
                                <col width="100" />
                                <col width="070" />
                                <col width="050" />
                                <col width="050" />
                                <col width="050" />
                            </colgroup>
                            <tr>
                                <th>Process name</th>
                                <th>PID</th>
                                <th>Threads</th>
                                <th>Version</th>
                                <th>Priority</th>
                            </tr>
                            <tr style="text-align:center;" title="Moving to new repository!">
                                <td>tune.exe</td>
                                <td colspan="4">(currently private)</td>
                            </tr>
                        </table>
                        <table class="task-list">
                            <colgroup>
                                <col width="100" />
                                <col width="070" />
                                <col width="050" />
                                <col width="050" />
                                <col width="050" />
                            </colgroup>
                        </table>
                    </div>
                </div>
                <div class="button-group" style="justify-content: flex-end;">
                    <div class="button" id="end-process-btn">End Process</div>
                </div>
            </div>
            <div class="win-status-bar">
                <div class="win-status-bar-field" id="process-count">Processes: 0</div>
                <div class="win-status-bar-field">CPU Usage: 47%</div>
                <div class="win-status-bar-field">GPU Usage: 12%</div>
            </div>
        </div>
    </div>
    <div id="taskbar">
        <div id="start-button">jt-owo</div>
        <div class="taskbar-item"><i class="icon computer"></i></div>
        <div class="taskbar-item"><i class="icon console"></i></div>
        <div class="taskbar-item"><i class="icon dir-closed"></i></div>
        <div id="taskbar-system-tray">
            <span id="taskbar-time"></span>
        </div>
    </div>

    <div id="menu">
        <div class="menu-sidebar">
            <div class="menu-text">
                <b>jt-owo</b>
            </div>
        </div>
        <div id="menu-content">
            <div class="menu-item submenu icon dir-closed">
                Programs
                <div class="submenu-content first">
                    <div class="submenu-item icon console">Command Prompt</div>
                    <div class="submenu-item icon notepad">Notepad</div>
                </div>
            </div>
            <div class="menu-item submenu icon dir-closed">
                Photos
                <div class="submenu-content">
                    <div class="submenu-item icon png">cat.png</div>
                    <div class="submenu-item icon png">test.png</div>
                </div>
            </div>
            <div class="menu-item icon settings">Settings</div>
            <div class="menu-item icon run">Run</div>
            <div class="menu-item icon logoff">Log off</div>
            <div class="menu-item icon shutdown">Shutdown</div>
        </div>
    </div>
</body>

</html>